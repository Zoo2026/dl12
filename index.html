<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>유아 독서 방탈출: 아기돼지 삼형제</title>
    <!-- Google Fonts: Jua for a playful, child-friendly look -->
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <main id="app">
        <!-- 0. 랜딩 페이지 (Landing Page) -->
        <section id="landing-page" class="active">
            <div class="landing-content">
                <h1 class="main-title">이야기 탈출 대작전</h1>
                <div class="landing-footer">
                    <p>KNU LIB(2026), 임민희, 박수란, 류현정, 박민주</p>
                </div>
            </div>
            <button class="btn-entry" onclick="enterTeacherGuide()">
                <div class="house-icon">🏠</div>
                <span>선생님 입장</span>
            </button>
        </section>

        <!-- 1. 교사용 안내 페이지 (Teacher Guide) -->
        <section id="teacher-guide" class="hidden">
            <div class="guide-container">
                <header class="guide-header">
                    <h1>📚 선생님을 위한 활동 안내</h1>
                    <p class="subtitle">그림책 기반 독서 & 인성 융합 활동 프로그램</p>
                </header>

                <div class="guide-content">
                    <div class="info-card">
                        <h3>📋 활동 개요</h3>
                        <ul>
                            <li><strong>활동명:</strong> 아기돼지 삼형제의 튼튼한 집 짓기</li>
                            <li><strong>대상:</strong> 만 7세 (유치반)</li>
                            <li><strong>도서:</strong> 『아기돼지 삼형제』</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <h3>🎯 교육 목표 (누리과정 연계)</h3>
                        <ul class="curriculum-list">
                            <li><span class="badge com">의사소통</span> 동화의 내용을 이해하고 상황에 맞는 말을 한다.</li>
                            <li><span class="badge math">자연탐구</span> 벽돌의 수를 세며 기초적인 수 개념을 형성한다.</li>
                            <li><span class="badge soc">사회관계</span> 어려움에 처한 친구(형제)를 돕는 마음을 기른다.</li>
                        </ul>
                    </div>

                    <div class="info-card full-width">
                        <h3>🚀 활동 흐름 (방탈출 구조)</h3>
                        <div class="flow-steps">
                            <div class="step">
                                <span class="step-icon">📖</span>
                                <span>1. 독서 퀴즈</span>
                                <small>내용 이해 확인</small>
                            </div>
                            <div class="arrow">➡</div>
                            <div class="step">
                                <span class="step-icon">🧱</span>
                                <span>2. 수학 미션</span>
                                <small>벽돌 수 세기</small>
                            </div>
                            <div class="arrow">➡</div>
                            <div class="step">
                                <span class="step-icon">✍️</span>
                                <span>3. 단어 쓰기</span>
                                <small>단어 완성하기</small>
                            </div>
                            <div class="arrow">➡</div>
                            <div class="step">
                                <span class="step-icon">🍪</span>
                                <span>4. 인성 보상</span>
                                <small>포춘쿠키 메시지</small>
                            </div>
                        </div>
                    </div>

                    <div class="info-card full-width notice">
                        <h3>💡 지도 시 유의사항</h3>
                        <p>아이가 늑대를 무서워하지 않도록, 우리가 함께 튼튼한 집을 지으면 안전하다는 것을 강조해 주세요. 협동과 지혜의 중요성을 이야기 나누면 좋습니다.</p>
                    </div>
                </div>

                <div class="action-area">
                    <button class="btn-start" onclick="startGame()">활동 시작하기 ▶</button>
                </div>
            </div>
        </section>

        <!-- 2. 게임 인트로 (Story Intro) -->
        <!-- 2. 게임 인트로 (Story Intro) - 3 Pages -->
        <section id="game-intro" class="hidden">
            <div class="story-book">
                <div class="book-page left">
                    <div class="illustration-placeholder">
                        <div id="intro-img" class="img-pigs">🐷🐷🐷</div>
                    </div>
                </div>
                <div class="book-page right">
                    <h2 id="intro-title">오늘의 이야기 (1/3)</h2>
                    <p id="intro-text" class="story-text">
                        ...
                    </p>
                    <div class="intro-controls">
                        <!-- Navigation buttons will be injected by JS -->
                        <button class="btn-next" onclick="nextIntro()">다음 이야기 ➡</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. 미션 1: 독서 퀴즈 (True/False) -->
        <!-- 3. 미션 1: 독서 퀴즈 (True/False) - 3 Questions -->
        <section id="mission-1" class="hidden">
            <div class="mission-header">
                <span class="mission-badge">미션 1</span>
                <h2 id="quiz-title">이야기 속 진실 혹은 거짓? (1/3)</h2>
                <p id="quiz-desc">늑대에 대한 진실을 맞춰주세요!</p>
            </div>

            <div class="quiz-container">
                <div class="quiz-card" id="q1">
                    <div class="card-image" id="quiz-icon">🏡🌬️</div>
                    <p class="question" id="quiz-question">늑대가 "후~" 하고 입김을 불자<br><strong>튼튼한 벽돌 집</strong>이 휙 날아가 버렸나요?
                    </p>
                    <div class="options">
                        <button class="btn-option o-btn" onclick="checkAnswer(true)">⭕ 맞아!</button>
                        <button class="btn-option x-btn" onclick="checkAnswer(false)">❌ 아니야!</button>
                    </div>
                </div>
            </div>

            <div id="feedback-m1" class="feedback hidden">
                <p class="feedback-msg"></p>
                <button class="btn-next hidden" onclick="nextQuiz()">다음 문제로! ➡</button>
            </div>
            </div>
        </section>

        <!-- 4. 미션 2: 수학 (Counting) -->
        <section id="mission-2" class="hidden">
            <div class="mission-header">
                <span class="mission-badge">미션 2</span>
                <h2>벽돌을 모아주세요!</h2>
                <p>집을 짓기 위해 필요한 벽돌이 모두 몇 장일까요?</p>
            </div>

            <div class="math-problem-area">
                <div class="objects-container">
                    <div class="acorn">🧱</div>
                    <div class="acorn">🧱</div>
                    <div class="acorn">🧱</div>
                    <div class="acorn">🧱</div>
                    <div class="acorn">🧱</div>
                    <div class="acorn">🧱</div>
                    <!-- 6 bricks -->
                </div>
                <div class="answer-pad">
                    <p>정답을 눌러주세요!</p>
                    <div class="number-grid">
                        <button onclick="checkMath(4)">4</button>
                        <button onclick="checkMath(5)">5</button>
                        <button onclick="checkMath(6)">6</button>
                        <button onclick="checkMath(7)">7</button>
                    </div>
                </div>
            </div>

            <div id="feedback-m2" class="feedback hidden">
                <p class="feedback-msg"></p>
                <button class="btn-next hidden" onclick="nextStep(3)">다음 단계로! 🚀</button>
            </div>
        </section>

        <!-- 5. 미션 3: 단어 쓰기 (Writing) -->
        <section id="mission-3" class="hidden">
            <div class="mission-header">
                <span class="mission-badge">미션 3</span>
                <h2>집을 완성하는 주문!</h2>
                <p>튼튼한 집의 이름을 적어주세요.</p>
            </div>

            <div class="writing-area">
                <div class="word-card">
                    <span class="target-word">벽돌집</span>
                </div>
                <input type="text" id="word-input" placeholder="따라 써보세요" autocomplete="off">
                <button class="btn-check" onclick="checkWord()">완성하기 🔨</button>
            </div>

            <div id="feedback-m3" class="feedback hidden">
                <p class="feedback-msg"></p>
                <button class="btn-next hidden" onclick="nextStep(4)">보상 받으러 가기! 🎁</button>
            </div>
        </section>

        <!-- 6. 보상: 포춘쿠키 (Reward) -->
        <section id="reward" class="hidden">
            <div class="reward-container">
                <h2>🎉 와아! 늑대가 도망갔어요! 🎉</h2>
                <p>우리 친구들이 튼튼한 집을 지어줘서 아기돼지 삼형제가 안전해졌어요.</p>

                <div class="cookie-box" onclick="openCookie()">
                    <div id="cookie-wrapper" class="cookie closed">
                        <span class="cookie-emoji">🥠</span>
                        <p class="click-hint">행운의 쿠키를 열어보세요!</p>
                    </div>
                </div>

                <div id="fortune-message" class="hidden">
                    <h3>참 잘했어요!</h3>
                    <p id="fortune-text" class="fortune-text"></p>
                    <button class="btn-restart" onclick="location.reload()">처음으로 돌아가기</button>
                </div>
            </div>
        </section>
    </main>

    <script src="script.js"></script>
</body>

</html>